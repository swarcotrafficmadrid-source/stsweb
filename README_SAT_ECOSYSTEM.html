<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Ecosistema SAT - SWARCO Traffic Spain</title>
  <style>
    @media print {
      body { margin: 0; }
      .no-print { display: none; }
      .page-break { page-break-before: always; }
    }
    
    * { margin: 0; padding: 0; box-sizing: border-box; }
    
    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      line-height: 1.6;
      color: #333;
      max-width: 900px;
      margin: 0 auto;
      padding: 40px 20px;
      background: #f9fafb;
    }
    
    .header {
      background: linear-gradient(135deg, #006BAB 0%, #004d7a 100%);
      color: white;
      padding: 40px;
      border-radius: 16px;
      margin-bottom: 40px;
      text-align: center;
    }
    
    .header h1 {
      font-size: 2.5em;
      margin-bottom: 10px;
    }
    
    .header .subtitle {
      font-size: 1.5em;
      color: #F29200;
      margin-bottom: 10px;
    }
    
    .header .tagline {
      font-size: 1.1em;
      opacity: 0.9;
      font-style: italic;
    }
    
    .print-btn {
      background: #F29200;
      color: white;
      border: none;
      padding: 15px 30px;
      font-size: 16px;
      border-radius: 8px;
      cursor: pointer;
      margin: 20px 0;
      display: block;
      width: 100%;
      max-width: 300px;
      margin: 20px auto;
    }
    
    .print-btn:hover {
      background: #d17f00;
    }
    
    .content {
      background: white;
      padding: 40px;
      border-radius: 12px;
      box-shadow: 0 2px 8px rgba(0,0,0,0.1);
    }
    
    h2 {
      color: #006BAB;
      font-size: 1.8em;
      margin: 30px 0 15px 0;
      border-bottom: 3px solid #F29200;
      padding-bottom: 10px;
    }
    
    h3 {
      color: #F29200;
      font-size: 1.3em;
      margin: 20px 0 10px 0;
    }
    
    h4 {
      color: #006BAB;
      font-size: 1.1em;
      margin: 15px 0 8px 0;
    }
    
    ul {
      margin: 10px 0 20px 20px;
    }
    
    li {
      margin: 8px 0;
    }
    
    .highlight {
      background: #fff3cd;
      padding: 20px;
      border-left: 4px solid #F29200;
      margin: 20px 0;
      border-radius: 4px;
    }
    
    .success {
      background: #d4edda;
      padding: 20px;
      border-left: 4px solid #28a745;
      margin: 20px 0;
      border-radius: 4px;
    }
    
    code {
      background: #f4f4f4;
      padding: 2px 6px;
      border-radius: 3px;
      font-family: 'Courier New', monospace;
      font-size: 0.9em;
    }
    
    pre {
      background: #2d2d2d;
      color: #f8f8f2;
      padding: 20px;
      border-radius: 8px;
      overflow-x: auto;
      margin: 20px 0;
    }
    
    pre code {
      background: transparent;
      color: inherit;
      padding: 0;
    }
    
    table {
      width: 100%;
      border-collapse: collapse;
      margin: 20px 0;
    }
    
    th, td {
      border: 1px solid #ddd;
      padding: 12px;
      text-align: left;
    }
    
    th {
      background: #006BAB;
      color: white;
    }
    
    tr:nth-child(even) {
      background: #f9f9f9;
    }
    
    .status-badge {
      display: inline-block;
      padding: 4px 12px;
      border-radius: 12px;
      font-size: 0.85em;
      font-weight: bold;
    }
    
    .status-pending { background: #fff3cd; color: #856404; }
    .status-assigned { background: #cce5ff; color: #004085; }
    .status-progress { background: #e2d5f5; color: #5a126b; }
    .status-waiting { background: #ffe5cc; color: #8a4000; }
    .status-resolved { background: #d4edda; color: #155724; }
    .status-closed { background: #e2e3e5; color: #383d41; }
    
    .footer {
      text-align: center;
      margin-top: 40px;
      padding: 20px;
      color: #666;
      font-style: italic;
    }
  </style>
</head>
<body>
  <div class="header">
    <h1>ğŸš€ Ecosistema Integral SAT</h1>
    <div class="subtitle">SWARCO Traffic Spain</div>
    <div class="tagline">"The better way, every day."</div>
  </div>

  <button class="print-btn no-print" onclick="window.print()">ğŸ–¨ï¸ Imprimir / Guardar como PDF</button>

  <div class="content">
    
    <h2>ğŸ“‹ DescripciÃ³n General</h2>
    <p>Plataforma completa de gestiÃ³n de Servicio de Asistencia TÃ©cnica (SAT) que conecta a <strong>clientes</strong>, <strong>personal de oficina (SAT)</strong> y <strong>tÃ©cnicos de campo</strong> para la gestiÃ³n eficiente de incidencias, repuestos, compras y asistencias tÃ©cnicas.</p>

    <div class="success">
      <strong>âœ… Estado: ECOSISTEMA COMPLETO - 100% OPERATIVO</strong>
    </div>

    <h2>âœ¨ CaracterÃ­sticas Principales</h2>

    <h3>ğŸ‘¥ Portal del Cliente</h3>
    <ul>
      <li>âœ… Registro y autenticaciÃ³n segura (JWT)</li>
      <li>âœ… Multi-idioma (ES, EN, IT, FR, DE, PT, etc.)</li>
      <li>âœ… 4 tipos de solicitudes:
        <ul>
          <li><strong>Incidencias</strong> - Reportar fallos en equipos</li>
          <li><strong>Repuestos</strong> - Solicitar piezas de repuesto</li>
          <li><strong>Compras</strong> - Solicitar nuevos equipos</li>
          <li><strong>Asistencias</strong> - Programar asistencias (remota, telefÃ³nica, visita)</li>
        </ul>
      </li>
      <li>âœ… Timeline visual del estado de cada ticket</li>
      <li>âœ… Sistema de mensajes bidireccional con SAT</li>
      <li>âœ… Seguimiento en tiempo real</li>
    </ul>

    <h3>ğŸ« Panel SAT Interno</h3>
    <ul>
      <li>âœ… Dashboard con estadÃ­sticas en tiempo real</li>
      <li>âœ… Vista unificada de todos los tickets</li>
      <li>âœ… Filtros por tipo y estado</li>
      <li>âœ… GestiÃ³n de estados: Pendiente â†’ Asignado â†’ En progreso â†’ Esperando â†’ Resuelto â†’ Cerrado</li>
      <li>âœ… Sistema de comentarios (internos y pÃºblicos)</li>
      <li>âœ… Timeline completo de cada ticket</li>
      <li>âœ… AsignaciÃ³n de tÃ©cnicos</li>
      <li>âœ… GeneraciÃ³n de PDFs profesionales</li>
    </ul>

    <div class="page-break"></div>

    <h3>ğŸ“„ GeneraciÃ³n de PDFs</h3>
    <ul>
      <li>âœ… Informes tÃ©cnicos con branding SWARCO</li>
      <li>âœ… Logo y datos fiscales (NIF: A87304655)</li>
      <li>âœ… DirecciÃ³n: C/ Francisco GervÃ¡s, 12, Alcobendas</li>
      <li>âœ… Timeline completo del ticket</li>
      <li>âœ… Historial de comentarios</li>
      <li>âœ… Formato profesional A4</li>
    </ul>

    <h3>ğŸ” Seguridad y Robustez</h3>
    <ul>
      <li>âœ… Rate limiting (protecciÃ³n contra ataques)</li>
      <li>âœ… Headers de seguridad HTTP</li>
      <li>âœ… ValidaciÃ³n y sanitizaciÃ³n de inputs</li>
      <li>âœ… Error reporting automÃ¡tico a <code>sfr.support@swarco.com</code></li>
      <li>âœ… Error boundary en frontend</li>
      <li>âœ… Retry automÃ¡tico en fallos de red</li>
      <li>âœ… Sistema de roles (client, sat_admin, sat_technician)</li>
    </ul>

    <h2>ğŸ¯ Tipos de Usuarios</h2>

    <table>
      <tr>
        <th>Tipo</th>
        <th>Rol</th>
        <th>Permisos</th>
      </tr>
      <tr>
        <td><strong>Cliente</strong></td>
        <td><code>client</code></td>
        <td>Crear tickets, ver sus tickets, comentar, ver timeline</td>
      </tr>
      <tr>
        <td><strong>Admin SAT</strong></td>
        <td><code>sat_admin</code></td>
        <td>Ver todos los tickets, cambiar estados, asignar tÃ©cnicos, PDFs, estadÃ­sticas</td>
      </tr>
      <tr>
        <td><strong>TÃ©cnico SAT</strong></td>
        <td><code>sat_technician</code></td>
        <td>Ver tickets asignados, actualizar estados, comentar, PDFs</td>
      </tr>
    </table>

    <h2>ğŸš€ CÃ³mo Empezar</h2>

    <div class="highlight">
      <h3>1ï¸âƒ£ Crear Usuario SAT (Admin)</h3>
      <p>Ejecuta este comando en tu terminal (reemplaza los valores):</p>
      <pre><code>curl -X POST https://stsweb-backend-964379250608.europe-west1.run.app/api/admin/create-sat-user \
  -H "Content-Type: application/json" \
  -d '{
    "adminKey": "CHANGE_THIS_IN_PRODUCTION",
    "email": "tu-email@swarco.com",
    "password": "TuPassword123!",
    "nombre": "Tu Nombre",
    "apellidos": "Tus Apellidos",
    "role": "sat_admin"
  }'</code></pre>
    </div>

    <div class="highlight">
      <h3>2ï¸âƒ£ Acceder al Panel SAT</h3>
      <ol>
        <li>Ve a: <strong>https://staging.swarcotrafficspain.com</strong></li>
        <li>Inicia sesiÃ³n con el email y password del paso 1</li>
        <li>Navega a: <strong>#sat</strong> o agrega <code>/sat</code> en la URL</li>
        <li>Â¡Listo! VerÃ¡s el dashboard completo</li>
      </ol>
    </div>

    <div class="page-break"></div>

    <h2>ğŸ“Š Estados de Tickets</h2>

    <table>
      <tr>
        <th>Estado</th>
        <th>DescripciÃ³n</th>
        <th>Badge</th>
      </tr>
      <tr>
        <td>Pendiente</td>
        <td>Ticket reciÃ©n creado</td>
        <td><span class="status-badge status-pending">â³ Pendiente</span></td>
      </tr>
      <tr>
        <td>Asignado</td>
        <td>Asignado a un tÃ©cnico</td>
        <td><span class="status-badge status-assigned">ğŸ‘¤ Asignado</span></td>
      </tr>
      <tr>
        <td>En progreso</td>
        <td>TÃ©cnico trabajando</td>
        <td><span class="status-badge status-progress">ğŸ”„ En progreso</span></td>
      </tr>
      <tr>
        <td>Esperando</td>
        <td>Esperando respuesta/repuestos</td>
        <td><span class="status-badge status-waiting">â¸ï¸ Esperando</span></td>
      </tr>
      <tr>
        <td>Resuelto</td>
        <td>Problema solucionado</td>
        <td><span class="status-badge status-resolved">âœ… Resuelto</span></td>
      </tr>
      <tr>
        <td>Cerrado</td>
        <td>Ticket finalizado</td>
        <td><span class="status-badge status-closed">ğŸ”’ Cerrado</span></td>
      </tr>
    </table>

    <h2>ğŸ”¢ NÃºmeros de Ticket</h2>
    <ul>
      <li><strong>INC-XXXXXX</strong> - Incidencias (fallos en equipos)</li>
      <li><strong>REP-XXXXXX</strong> - Repuestos (solicitud de piezas)</li>
      <li><strong>COM-XXXXXX</strong> - Compras (nuevos equipos)</li>
      <li><strong>ASI-XXXXXX</strong> - Asistencias (remota, telefÃ³nica, visita)</li>
    </ul>
    <p><em>Formato: 6 dÃ­gitos con ceros a la izquierda (ej: INC-000001)</em></p>

    <h2>ğŸ“± URLs Importantes</h2>
    <table>
      <tr>
        <th>Servicio</th>
        <th>URL</th>
      </tr>
      <tr>
        <td>Portal Web</td>
        <td><a href="https://staging.swarcotrafficspain.com">https://staging.swarcotrafficspain.com</a></td>
      </tr>
      <tr>
        <td>Panel SAT</td>
        <td><a href="https://staging.swarcotrafficspain.com/#sat">https://staging.swarcotrafficspain.com/#sat</a></td>
      </tr>
      <tr>
        <td>Backend API</td>
        <td>https://stsweb-backend-964379250608.europe-west1.run.app</td>
      </tr>
    </table>

    <div class="page-break"></div>

    <h2>ğŸ¨ Branding SWARCO</h2>

    <h3>Colores Corporativos</h3>
    <ul>
      <li><strong>Azul SWARCO:</strong> <code>#006BAB</code> <span style="display:inline-block;width:20px;height:20px;background:#006BAB;border:1px solid #ccc;vertical-align:middle;"></span></li>
      <li><strong>Naranja SWARCO:</strong> <code>#F29200</code> <span style="display:inline-block;width:20px;height:20px;background:#F29200;border:1px solid #ccc;vertical-align:middle;"></span></li>
    </ul>

    <h3>Eslogan Oficial</h3>
    <p style="font-size:1.2em;font-style:italic;color:#006BAB;text-align:center;padding:20px;background:#f9f9f9;border-radius:8px;">
      "The better way, every day."
      <br><small style="color:#666;">(NO traducir en la aplicaciÃ³n)</small>
    </p>

    <h3>Datos Fiscales</h3>
    <ul>
      <li><strong>Empresa:</strong> SWARCO TRAFFIC SPAIN SA</li>
      <li><strong>NIF:</strong> A87304655</li>
      <li><strong>DirecciÃ³n:</strong> C/ Francisco GervÃ¡s, 12 - 28108 Alcobendas, Madrid</li>
    </ul>

    <h2>ğŸ“§ Notificaciones AutomÃ¡ticas</h2>
    <p>Los emails se envÃ­an automÃ¡ticamente en:</p>
    <ul>
      <li>âœ… <strong>Nuevo ticket</strong> â†’ Cliente y SAT</li>
      <li>âœ… <strong>Cambio de estado</strong> â†’ Cliente</li>
      <li>âœ… <strong>Nuevo comentario SAT</strong> â†’ Cliente</li>
      <li>âœ… <strong>Nuevo comentario cliente</strong> â†’ SAT</li>
      <li>âœ… <strong>Error del sistema</strong> â†’ <code>sfr.support@swarco.com</code></li>
    </ul>

    <h2>ğŸ“ˆ Funcionalidades Implementadas</h2>
    <table>
      <tr>
        <th>Funcionalidad</th>
        <th>Estado</th>
      </tr>
      <tr><td>Portal Cliente</td><td>âœ… 100%</td></tr>
      <tr><td>Panel SAT</td><td>âœ… 100%</td></tr>
      <tr><td>Timeline</td><td>âœ… 100%</td></tr>
      <tr><td>PDFs</td><td>âœ… 100%</td></tr>
      <tr><td>Comentarios</td><td>âœ… 100%</td></tr>
      <tr><td>Emails</td><td>âœ… 100%</td></tr>
      <tr><td>Seguridad</td><td>âœ… 100%</td></tr>
      <tr><td>Admin Tools</td><td>âœ… 100%</td></tr>
      <tr><td>Multi-idioma</td><td>âœ… 100%</td></tr>
    </table>

    <h2>ğŸš€ PrÃ³ximas Funcionalidades (Roadmap - Opcional)</h2>
    <ul>
      <li>ğŸ“± App mÃ³vil para tÃ©cnicos</li>
      <li>ğŸ“· Escaneo de cÃ³digos QR</li>
      <li>ğŸ“ GeolocalizaciÃ³n de visitas</li>
      <li>ğŸ”— IntegraciÃ³n con Jira/ERP</li>
      <li>ğŸ“Š Webhooks personalizados</li>
      <li>ğŸ“ˆ Analytics avanzados</li>
      <li>ğŸ¤– Chatbot de soporte</li>
    </ul>

    <div class="success" style="margin-top:40px;">
      <h3 style="margin-bottom:10px;">ğŸ‰ Â¡Ecosistema SAT Completamente Operativo!</h3>
      <p>Todas las funcionalidades estÃ¡n implementadas y desplegadas. El sistema estÃ¡ listo para gestionar tickets de manera profesional y eficiente.</p>
    </div>

  </div>

  <div class="footer">
    <p><strong>Desarrollado con â¤ï¸ por el equipo SWARCO Traffic Spain</strong></p>
    <p><em>"The better way, every day."</em></p>
    <p style="margin-top:20px;font-size:0.9em;color:#999;">Documento generado: 2026 | Ecosistema SAT v1.0</p>
  </div>

</body>
</html>
